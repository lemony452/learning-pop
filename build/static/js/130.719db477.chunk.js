"use strict";(self.webpackChunkfe_learning_pop=self.webpackChunkfe_learning_pop||[]).push([[130],{774:(e,s,n)=>{n.d(s,{A:()=>c});var t=n(43),a=n(950),l=n(579);function c(e){let{children:s,open:n}=e;const c=(0,t.useRef)(null);return(0,t.useEffect)((()=>{var e;n&&(null===(e=c.current)||void 0===e||e.showModal())}),[n]),n?(0,a.createPortal)((0,l.jsx)("dialog",{ref:c,className:"rounded bg-white bg-opacity-90 p-5",children:s}),document.getElementById("modal")):(0,l.jsx)(l.Fragment,{})}},4:(e,s,n)=>{n.d(s,{A:()=>a});n(43);var t=n(579);function a(e){let{children:s}=e;return(0,t.jsx)("div",{className:"container-fluid vw-100 row",style:{marginTop:"7rem"},children:(0,t.jsx)("div",{className:"col-10 offset-1",children:s})})}},256:(e,s,n)=>{n.d(s,{s:()=>a});var t=n(43);const a=(e,s)=>{console.log("============Fetch Render========");const[n,a]=(0,t.useState)(null),[l,c]=(0,t.useState)(!1),[r,i]=(0,t.useState)(null),o=(0,t.useCallback)((async n=>{c(!0);try{const t=await(async(e,s)=>{try{console.log(e,s);const n=await fetch("http://localhost:8080/api"+e,s);return await n.json()}catch(n){return console.log(n),n}})(e,{...s,body:n});a(t)}catch(t){i(t)}c(!1)}),[e,s]);return(0,t.useEffect)((()=>{"GET"===s.method&&o()}),[o,s.method]),{data:n,isLoading:l,err:r,fetchData:o}}},130:(e,s,n)=>{n.r(s),n.d(s,{default:()=>p});var t=n(216),a=n(475),l=n(256),c=n(43),r=(n(57),n(774)),i=n(579);function o(e){let{popsong:s,saveData:n}=e;const t=(0,c.useRef)(null);return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"d-flex gap-3",children:[(0,i.jsx)("h4",{children:"My Practice"}),(0,i.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault();const a=t.current.value;a&&a!==s.practice&&n(JSON.stringify({practice:a}))},className:"btn btn-sm px-4 btn-success",children:"\uc800\uc7a5\ud558\uae30"})]}),(0,i.jsx)("form",{className:"d-flex flex-column",children:(0,i.jsx)("textarea",{defaultValue:null===s||void 0===s?void 0:s.practice,ref:t,className:"rounded form-textarea text-center lh-lg fs-5 px-3 py-2",name:"practice",id:"practice"})})]})}function d(e){let{popsong:s,children:n}=e;return(0,i.jsxs)("div",{className:"player d-flex align-items-center gap-2 rounded border p-4",children:[(0,i.jsx)("img",{style:{maxWidth:"100px"},src:null===s||void 0===s?void 0:s.image.url,alt:"popsong album",className:"rounded"}),(0,i.jsxs)("div",{className:"d-flex flex-column align-items-start",children:[(0,i.jsx)("h4",{children:null===s||void 0===s?void 0:s.title}),(0,i.jsx)("span",{className:"",children:null===s||void 0===s?void 0:s.singer})]}),n]})}var h=n(4);const u={method:"GET",headers:{"Content-Type":"application/json"}},x={method:"DELETE"},m={method:"POST",headers:{"Content-Type":"application/json"}};function p(){const e=(0,t.Zp)(),{id:s}=(0,t.g)(),[n,p]=(0,c.useState)(!1),[j,f]=(0,c.useState)(""),{data:v,isLoading:g,err:b}=(0,l.s)("/popsongs/".concat(s),u),{data:N,isLoading:y,err:w,fetchData:k}=(0,l.s)("/popsongs/".concat(s),x),{data:C,isLoading:E,err:S,fetchData:D}=(0,l.s)("/popsongs/".concat(s,"/save"),m);return(0,c.useEffect)((()=>{E&&f("save")}),[E]),b||w||S?(0,i.jsx)("div",{className:"my-auto",children:b}):g&&!b?(0,i.jsx)("div",{className:"my-auto",children:"\ud50c\ub808\uc774\ub9ac\uc2a4\ud2b8\uc5d0\uc11c \uc694\uccad\ud55c \ud31d\uc1a1\uc744 \uac00\uc838\uc624\ub294 \uc911\uc774\uc608\uc694"}):y&&!w?(0,i.jsx)("div",{className:"my-auto",children:"\ud50c\ub808\uc774\ub9ac\uc2a4\ud2b8\uc5d0\uc11c \uc0ad\uc81c\ud558\ub294 \uc911\uc774\uc608\uc694"}):N?(0,i.jsx)(r.A,{open:!0,children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("h5",{children:"\ud31d\uc1a1 \uc0ad\uc81c\ub97c \uc644\ub8cc\ud588\uc5b4\uc694!"}),(0,i.jsx)("br",{}),(0,i.jsx)(a.N_,{className:"btn btn-primary",to:"/popsongs",children:"\ud50c\ub808\uc774\ub9ac\uc2a4\ud2b8\ub85c \uc774\ub3d9\ud558\uae30"})]})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r.A,{open:"delete"===j,children:[(0,i.jsx)("h5",{children:"\ud31d\uc1a1\uc744 \ud50c\ub808\uc774\ub9ac\uc2a4\ud2b8\uc5d0\uc11c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc5b4\uc694?"}),(0,i.jsx)("br",{}),(0,i.jsxs)("div",{className:"text-end",children:[(0,i.jsx)("button",{className:"btn btn-danger me-2",onClick:()=>(f(""),void k()),children:"\uc0ad\uc81c"}),(0,i.jsx)("button",{className:"btn btn-warning",onClick:()=>f(""),children:"\ucde8\uc18c"})]})]}),(0,i.jsxs)(r.A,{open:"save"===j,children:[E&&(0,i.jsx)("h5",{className:"my-auto",children:"\uc5f0\uc2b5\ud55c \ub0b4\uc6a9\uc744 \uc800\uc7a5\uc911\uc774\uc608\uc694"}),!E&&(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("h5",{children:"\uc800\uc7a5\uc744 \uc644\ub8cc\ud588\uc5b4\uc694"}),(0,i.jsx)("br",{}),(0,i.jsx)("button",{className:"btn btn-primary",onClick:()=>f(""),children:"\ud655\uc778"})]})]}),(0,i.jsxs)(h.A,{children:[(0,i.jsxs)("div",{className:"row col-lg-10 offset-lg-1 justify-content-center",children:[(0,i.jsxs)("div",{className:"col-10 col-md-6",children:[(0,i.jsxs)("div",{className:"d-flex gap-3",children:[(0,i.jsx)("h4",{children:"Lyrics"}),(0,i.jsx)("button",{onClick:function(){p(!n)},className:"btn btn-sm btn-warning px-3",children:n?"\uac00\uc0ac \ubcf4\uae30":"\ud78c\ud2b8 \ubcf4\uae30"})]}),(0,i.jsx)("div",{style:{whiteSpace:"pre"},className:"text-center px-3 py-2 overflow-scroll lh-lg fs-5 rounded form-textarea",children:n?null===v||void 0===v?void 0:v.translate:null===v||void 0===v?void 0:v.lyrics})]}),(0,i.jsx)("div",{className:"col-10 col-md-6",children:(0,i.jsx)(o,{popsong:v,saveData:D})})]}),(0,i.jsx)("div",{className:"row col-lg-10 offset-lg-1 justify-content-center mt-5",children:(0,i.jsx)(d,{popsong:v,children:(0,i.jsxs)("div",{className:"d-flex gap-2",children:[(0,i.jsx)("button",{onClick:function(){e("/popsongs/".concat(s,"/edit"),{state:v})},className:"btn btn-primary",children:"\uc218\uc815\ud558\uae30"}),(0,i.jsx)("button",{onClick:()=>{f("delete")},className:"btn btn-danger",children:"\uc0ad\uc81c\ud558\uae30"})]})})})]})]})}},57:()=>{}}]);
//# sourceMappingURL=130.719db477.chunk.js.map